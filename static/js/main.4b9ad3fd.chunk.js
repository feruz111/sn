(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{131:function(e,t,n){e.exports={item:"Post_item__1kNVy"}},132:function(e,t,n){e.exports={content:"Profile_content__1_t6i"}},164:function(e,t,n){},168:function(e,t,n){},19:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2l3oF",dialogsItems:"Dialogs_dialogsItems__1eb_z",dialog:"Dialogs_dialog__3hTO0",active:"Dialogs_active__3BvGC",messages:"Dialogs_messages__3tG52",message:"Dialogs_message__1lzfF",addMessageButton:"Dialogs_addMessageButton__2JsFu"}},23:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__12L-I",mainPhoto:"ProfileInfo_mainPhoto__1r5dj",contact:"ProfileInfo_contact__1Nr4E",editSaveButton:"ProfileInfo_editSaveButton__3ShIX"}},24:function(e,t,n){e.exports={paginator:"Paginator_paginator__1-OnL",pages:"Paginator_pages__32lYO",page:"Paginator_page__3znQI",selectedPage:"Paginator_selectedPage__notKK",arrowRight:"Paginator_arrowRight__fbKSs",arrowLeft:"Paginator_arrowLeft__1kex1"}},25:function(e,t,n){e.exports={userPage:"User_userPage__15qUe",userPhoto:"User_userPhoto__nv6hZ",userInfo:"User_userInfo__1vZeY",userId:"User_userId__juthQ",userName:"User_userName__3445f",buttonFollowUnfollow:"User_buttonFollowUnfollow__zUONy"}},288:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(66),o=n.n(s),c=(n(164),n(28)),i=n(29),u=n(32),l=n(31),d=n(11),j=n(10),h=n(8),b=(n(168),n.p+"static/media/preloader.b767aab4.svg"),f=n(0),p=function(){return Object(f.jsx)("img",{src:b})},g=n(3),O=n(35);function m(e){return{isAuth:e.auth.isAuth}}var x=function(e){return Object(d.b)(m)((function(t){t.isAuth;var n=Object(O.a)(t,["isAuth"]);return t.isAuth?Object(f.jsx)(e,Object(g.a)({},n)):Object(f.jsx)(j.a,{to:"/login"})}))},v=n(46),P={dialogs:[{id:1,name:"John"},{id:2,name:"Ali"},{id:3,name:"Black"},{id:4,name:"Andrey"},{id:5,name:"Helena"},{id:6,name:"Shack"}],messages:[{id:1,message:"Hi"},{id:2,message:"how are u doin"},{id:3,message:"yo"},{id:4,message:"yo"}],newPostText:""},w=n(15),C=n(19),k=n.n(C),S=function(e){return Object(f.jsx)("div",{className:k.a.dialog+" "+k.a.active,children:Object(f.jsx)(w.b,{to:"/dialogs/"+e.id,children:e.name})})},_=n(125),N=n(126),I=function(e){if(!e)return"Field is required"},E=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},A=n(34),y=n.n(A),U=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,a=e.children,s=(Object(O.a)(e,["input","meta","children"]),n&&r);return Object(f.jsxs)("div",{className:y.a.formControl+" "+(s?y.a.error:""),children:[Object(f.jsx)("div",{children:a}),Object(f.jsx)("div",{children:s&&Object(f.jsx)("span",{children:r})})]})},T=function(e){var t=e.input,n=(e.meta,Object(O.a)(e,["input","meta"]));return Object(f.jsx)(U,Object(g.a)(Object(g.a)({},e),{},{children:Object(f.jsx)("textarea",Object(g.a)(Object(g.a)({},t),n))}))},F=function(e){var t=e.input,n=(e.meta,Object(O.a)(e,["input","meta"]));return Object(f.jsx)(U,Object(g.a)(Object(g.a)({},e),{},{children:Object(f.jsx)("input",Object(g.a)(Object(g.a)({},t),n))}))},R=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(f.jsxs)("div",{className:y.a.inputElem,children:[Object(f.jsx)(_.a,Object(g.a)({validate:n,placeholder:e,name:t,component:r},a)),Object(f.jsx)("div",{children:s})]})},L=E(30),D=Object(N.a)({form:"addMessage"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)(_.a,{validate:[I,L],placeholder:"Enter your message",name:"addMessage",component:T}),Object(f.jsx)("button",{className:k.a.addMessageButton,children:"Add message"})]})})),B=function(e){return Object(f.jsx)("div",{className:k.a.message,children:e.message})},M=function(e){var t=e.messagesPage,n=t.dialogs.map((function(e){return Object(f.jsx)(S,{name:e.name,id:e.id})})),r=t.messages.map((function(e){return Object(f.jsx)(B,{message:e.message})}));return Object(f.jsxs)("div",{className:k.a.dialogs,children:[Object(f.jsx)("div",{className:k.a.dialogsItems,children:n}),Object(f.jsxs)("div",{className:k.a.messages,children:[r,Object(f.jsx)(D,{onSubmit:function(t){e.addMessage(t.addMessage)}})]})]})},z=Object(h.d)(x,Object(d.b)((function(e){return{newPostText:e.messagesPage.newPostText,messagesPage:e.messagesPage}}),(function(e){return{addMessage:function(t){e(function(e){return{type:"ADD-MESSAGE",text:e}}(t))}}})))(M),J=n(9),V=n.n(J),Q=n(13),G=n(22),Y=n(130),H=n.n(Y).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5b802dfc-8175-4671-99bf-e30ddb894d16"}}),Z={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return H.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return H.post("follow/".concat(e))},unFollow:function(e){return H.delete("follow/".concat(e))},profileAPI:function(e){return console.warn("Obsolete method. Use profileAPI"),W.getProfile(e)}},W={getProfile:function(e){return H.get("profile/".concat(e)).then((function(e){return e}))},getStatus:function(e){return H.get("profile/status/".concat(e))},updateStatus:function(e){return H.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),H.put("/profile/photo",t,{headers:{"Content-type":"multipart/form-data"}})},saveProfile:function(e){return H.put("profile",e)}},q=function(){return H.get("auth/me").then((function(e){return e.data}))},K=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return H.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},X=function(){return H.delete("auth/login")},$=function(){return H.get("security/get-captcha-url")},ee="social-network/auth/SET_USER_DATA",te="social-network/auth/GET_CAPTCHA_URL_SUCCESS",ne={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},re=function(e,t,n,r){return{type:ee,payload:{userId:e,email:t,login:n,isAuth:r}}},ae=function(e){return{type:te,payload:{captchaUrl:e}}},se=function(){return function(){var e=Object(Q.a)(V.a.mark((function e(t){var n,r,a,s,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,s=r.email,o=r.login,t(re(a,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(Q.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:n=e.sent,r=n.data.url,t(ae(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=n(36),ie=n.n(ce),ue=function(e){var t={backgroundImage:"url(".concat("data:image/png;base64,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",")")};return Object(f.jsxs)("header",{className:ie.a.header,children:[Object(f.jsx)("div",{className:ie.a.logoImg,style:t}),Object(f.jsx)("div",{className:ie.a.loginBlock,children:e.isAuth?Object(f.jsxs)("div",{className:ie.a.loginBlockContainer,children:[Object(f.jsx)("div",{className:ie.a.loginName,children:e.login}),Object(f.jsx)("div",{className:ie.a.line}),Object(f.jsx)("button",{onClick:e.logoutTC,children:"Log out"})]}):Object(f.jsx)(w.b,{className:ie.a.loginBlockContainer,to:"/login",children:Object(f.jsx)("button",{children:"Log in"})})})]})},le=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(f.jsx)(ue,Object(g.a)({},this.props))}}]),n}(a.a.Component),de=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:re,logoutTC:function(){return function(){var e=Object(Q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:0===e.sent.data.resultCode&&t(re(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(le),je=(E(100),Object(N.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(f.jsx)("form",{onSubmit:t,children:Object(f.jsxs)("div",{children:[R("Email","email",[I],F),R("Password","password",[I],F,{type:"password"}),R(null,"rememberMe",[],F,{type:"checkbox"},"Remember me"),r&&Object(f.jsx)("img",{src:r}),r&&R("Symbols from image","captcha",[I],F),n&&Object(f.jsx)("div",{className:y.a.formSubmissoinError,children:n}),Object(f.jsx)("button",{children:"Login"})]})})}))),he=n(47),be=n.n(he),fe=Object(d.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{loginTC:function(e,t,n,r){return function(){var a=Object(Q.a)(V.a.mark((function a(s){var o,c;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,K(e,t,n,r);case 2:if(0!==(o=a.sent).data.resultCode){a.next=7;break}s(se()),a.next=12;break;case 7:if(10!==o.data.resultCode){a.next=10;break}return a.next=10,s(oe());case 10:c=o.data.messages.length>0?o.data.messages[0]:"some error",s(Object(G.a)("login",{_error:c}));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,n=e.loginTC,r=e.captchaUrl;return t?Object(f.jsx)(j.a,{to:"/profile"}):Object(f.jsx)("div",{className:be.a.loginPage,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Login"}),Object(f.jsxs)("div",{className:be.a.demoAcc,children:[Object(f.jsx)("strong",{className:be.a.strong,children:"Demo account:"})," free@samuraijs.com"]}),Object(f.jsxs)("div",{className:be.a.demoAcc,children:[Object(f.jsx)("strong",{className:be.a.strong,children:"Password: "})," free"]}),Object(f.jsx)(je,{onSubmit:function(e){n&&n(e.email,e.password,e.rememberMe,e.captcha)},captchaUrl:r})]})})})),pe=n.p+"static/media/loginNav.49e3b1e6.svg",ge=n.p+"static/media/messagesNav.8085f152.svg",Oe=n.p+"static/media/profileNav.cda056b3.svg",me=n.p+"static/media/usersNav.321ba854.svg",xe=n(48),ve=n.n(xe),Pe=[{url:"/profile",name:"Profile",img:{backgroundImage:"url(".concat(Oe,")")}},{url:"/dialogs",name:"Messages",img:{backgroundImage:"url(".concat(ge,")")}},{url:"/Users",name:"Users",img:{backgroundImage:"url(".concat(me,")")}},{url:"/login",name:"Login",img:{backgroundImage:"url(".concat(pe,")")}}],we=function(){return Object(f.jsx)("nav",{className:ve.a.nav,children:Pe.map((function(e){return Object(f.jsxs)("div",{className:ve.a.itemContainer,children:[Object(f.jsx)("div",{className:ve.a.img,style:e.img}),Object(f.jsx)(w.b,{to:e.url,className:ve.a.link,activeClassName:ve.a.activeLink,children:e.name})]},e.url)}))})},Ce="SET_STATUS",ke="DELETE_POST",Se="SAVE_PHOTO_SUCCESS",_e={posts:[{id:1,message:"Hi, how are you",likesCount:12},{id:2,message:"it's first",likesCount:24}],profile:null,status:""},Ne=function(e){return{type:Ce,status:e}},Ie=function(e){return function(){var t=Object(Q.a)(V.a.mark((function t(n){var r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.profileAPI(e);case 2:r=t.sent,n({type:"SET_USER_PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee=E(10),Ae=Object(N.a)({form:"addPost"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)(_.a,{component:T,name:"addPost",placeholder:"enter text",validate:[I,Ee]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Add posts"})})]})})),ye=n(94),Ue=n.n(ye),Te=n(131),Fe=n.n(Te),Re=function(e){return Object(f.jsxs)("div",{className:Fe.a.item,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:"https://i.ytimg.com/vi/o_26SGY83-I/movieposter_en.jpg"})}),e.message,Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["Like ",e.like]})})]})},Le=a.a.memo((function(e){console.log("render");var t=e.posts.map((function(e){return Object(f.jsx)(Re,{message:e.message,like:e.likesCount},e.id)}));return Object(f.jsxs)("div",{className:Ue.a.postsBlock,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsx)(Ae,{onSubmit:function(t){e.addPost(t.addPost)}}),Object(f.jsx)("div",{className:Ue.a.posts,children:t})]})})),De=Object(d.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(Le),Be=n(132),Me=n.n(Be),ze=n(40),Je=n.p+"static/media/user.6e70c258.svg",Ve=n(23),Qe=n.n(Ve),Ge=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return Object(f.jsxs)("div",{children:[n&&Object(f.jsx)("button",{className:Qe.a.editSaveButton,onClick:r,children:"Edit"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),":",["Facebook","Website","Github"].map((function(e){return Object(f.jsx)(Ye,{contactTitle:e,contactValue:"---"},e)}))]})]})},Ye=function(e){var t=e.contactTitle,n=e.contactValue;return Object(f.jsxs)("div",{className:Qe.a.contact,children:[Object(f.jsx)("b",{children:t}),": ",n]})},He=Object(N.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=(e.profile,e.error);return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:Qe.a.editSaveButton,children:"save"})}),n&&Object(f.jsx)("div",{className:y.a.formSubmissoinError,children:n}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),": ",R("Full name","fullName",[],F)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job"}),":",R("","lookingForAJob",[],F,{type:"checkbox"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),":",R("My professional skills","lookingForAJobDescription",[],T)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),":",R("About me","aboutMe",[],T)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),":",["Facebook","Website","Github"].map((function(e){return Object(f.jsx)("div",{className:Qe.a.contact,children:Object(f.jsxs)("b",{children:[e,": ",R(e,"contacts."+e,[],F)]})},e)}))]})]})})),Ze=function(e){var t=Object(r.useState)(!0),n=Object(ze.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(e.reduxStatus),c=Object(ze.a)(o,2),i=c[0],u=c[1];Object(r.useEffect)((function(){u(e.reduxStatus)}),[e.reduxStatus]);return Object(f.jsx)("div",{children:a?Object(f.jsx)("div",{children:Object(f.jsxs)("span",{onDoubleClick:function(){s(!1)},children:[Object(f.jsx)("b",{children:"Status: "}),"\ud83d\udd8a\ufe0f",e.reduxStatus||"----"]})}):Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!0),e.updateStatusThunkCreator(i)},value:i})})})},We=function(e){var t=e.profile,n=e.reduxStatus,a=e.isOwner,s=e.updateStatusThunkCreator,o=e.savePhoto,c=e.saveProflie,i=Object(r.useState)(!1),u=Object(ze.a)(i,2),l=u[0],d=u[1];return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:Qe.a.descriptionBlock,children:[Object(f.jsxs)("div",{className:Qe.a.userPhotoContainer,children:[Object(f.jsx)("img",{src:t.photos.large||Je,className:Qe.a.mainPhoto}),Object(f.jsx)("div",{children:a&&Object(f.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&o(e.target.files[0])}})})]}),l?Object(f.jsx)(He,{initialValue:t,profile:t,onSubmit:function(e){console.log(e),c(e).then((function(){d(!1)}))}}):Object(f.jsx)(Ge,{goToEditMode:function(){return d(!0)},isOwner:a,profile:t}),Object(f.jsx)(Ze,{reduxStatus:n,updateStatusThunkCreator:s})]})})},qe=function(e){return Object(f.jsxs)("div",{className:Me.a.content,children:[Object(f.jsx)(We,{saveProflie:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,reduxStatus:e.reduxStatus,updateStatusThunkCreator:e.updateStatusThunkCreator}),Object(f.jsx)(De,{})]})},Ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;console.log(e),e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfileThunkCreator(e),this.props.getStatusThunkCreator(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.profile?Object(f.jsx)(qe,Object(g.a)(Object(g.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,reduxStatus:this.props.reduxStatus,updateStatusThunkCreator:this.props.updateStatusThunkCreator,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})):Object(f.jsx)(p,{})}}]),n}(a.a.Component),Xe=Object(h.d)(x,Object(d.b)((function(e){return{profile:e.profilePage.profile,reduxStatus:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfileThunkCreator:Ie,getStatusThunkCreator:function(e){return function(){var t=Object(Q.a)(V.a.mark((function t(n){var r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getStatus(e);case 2:r=t.sent,n(Ne(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusThunkCreator:function(e){return function(){var t=Object(Q.a)(V.a.mark((function t(n){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(Ne(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(Q.a)(V.a.mark((function t(n){var r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:Se,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(Q.a)(V.a.mark((function t(n,r){var a,s;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.next=3,W.saveProfile(e);case 3:if(0!==(s=t.sent).data.resultCode){t.next=8;break}n(Ie(a)),t.next=10;break;case 8:return n(Object(G.a)("edit-profile",{_error:s.data.messages[0]})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),j.g)(Ke),$e=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(g.a)(Object(g.a)({},e),r):e}))},et="FOLLOWING_IN_PROGRESS",tt={users:[],pageSize:8,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},nt=function(e){return{type:"FOLLOW",userId:e}},rt=function(e){return{type:"UNFOLLOW",userId:e}},at=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},st=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},ot=function(e,t){return{type:et,userId:t,isFetching:e}},ct=function(){var e=Object(Q.a)(V.a.mark((function e(t,n,r,a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ot(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(ot(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),it=n(133),ut=Object(it.a)((function(e){return e.userPage.users}),(function(e){return e.filter((function(e){return!0}))})),lt=function(e){return e.userPage.pageSize},dt=function(e){return e.userPage.totalUsersCount},jt=function(e){return e.userPage.currentPage},ht=function(e){return e.userPage.isFetching},bt=function(e){return e.userPage.followingInProgress},ft=n(24),pt=n.n(ft),gt=n.p+"static/media/rightArrow.c1f9939a.svg",Ot=n.p+"static/media/leftArrow.48e7b1ac.svg",mt=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,s=e.isAuth,o=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,u={backgroundImage:"url(".concat(gt,")")},l={backgroundImage:"url(".concat(Ot,")")},d=Math.ceil(t/n),h=[],b=1;b<=d;b++)h.push(b);var p=Math.ceil(d/i),g=Object(r.useState)(1),O=Object(ze.a)(g,2),m=O[0],x=O[1],v=(m-1)*i+1,P=m*i;return!1===s?Object(f.jsx)(j.a,{to:"/login"}):Object(f.jsxs)("div",{className:pt.a.paginator,children:[Object(f.jsx)("div",{className:pt.a.arrowLeftContainer,children:m>1&&Object(f.jsx)("button",{style:l,className:pt.a.arrowLeft,onClick:function(){x(m-1)}})}),Object(f.jsx)("div",{className:pt.a.pages,children:h.filter((function(e){return e>=v&&e<=P})).map((function(e){return Object(f.jsx)("div",{className:a===e?"".concat(pt.a.selectedPage," ").concat(pt.a.page):pt.a.page,onClick:function(t){o(e)},children:e},e)}))}),Object(f.jsx)("div",{className:pt.a.arrowRightContainer,children:p>m&&Object(f.jsx)("button",{style:u,className:pt.a.arrowRight,onClick:function(){x(m+1)}})})]})},xt=n(25),vt=n.n(xt),Pt=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unFollow;return console.log(t),Object(f.jsxs)("div",{className:vt.a.userPage,children:[Object(f.jsx)("div",{className:vt.a.avatar,children:Object(f.jsx)(w.b,{to:"/profile/".concat(t.id),children:Object(f.jsx)("img",{src:null!==t.photos.small?t.photos.small:Je,className:vt.a.userPhoto})})}),Object(f.jsxs)("div",{className:vt.a.userInfo,children:[Object(f.jsx)("div",{className:vt.a.userName,children:t.name}),Object(f.jsxs)("div",{className:vt.a.userId,children:["Id | ",t.id]})]}),Object(f.jsx)("div",{className:vt.a.buttonContainer,children:t.followed?Object(f.jsx)("button",{className:vt.a.buttonFollowUnfollow,disabled:n.some((function(e){return e!==t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(f.jsx)("button",{className:vt.a.buttonFollowUnfollow,disabled:n.some((function(e){return e!==t.id})),onClick:function(){r(t.id)},children:"Follow"})})]})},wt=n(71),Ct=n.n(wt),kt=function(e){var t=e.totalUsersCount,n=e.pageSize,r=e.currentPage,a=e.isAuth,s=e.users,o=e.onPageChanged,c=Object(O.a)(e,["totalUsersCount","pageSize","currentPage","isAuth","users","onPageChanged"]);return Object(f.jsxs)("div",{className:Ct.a.usersPageContainer,children:[c.isFetching?Object(f.jsx)(p,{}):Object(f.jsx)("div",{className:Ct.a.userContainer,children:s.map((function(e){return Object(f.jsx)("div",{className:Ct.a.user,children:Object(f.jsx)(Pt,{user:e,followingInProgress:c.followingInProgress,follow:c.follow,unFollow:c.unFollow},e.id)})}))}),Object(f.jsx)("div",{children:Object(f.jsx)(mt,{pageSize:n,currentPage:r,totalUsersCount:t,onPageChanged:o,isAuth:a})})]})},St=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsersThunkCreator(t,n)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageSize,n=e.currentPage;this.props.getUsersThunkCreator(n,t)}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(kt,{isFetching:this.props.isFetching,isAuth:this.props.isAuth,followingInProgress:this.props.followingInProgress,followingInProgressAC:ot,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,users:this.props.users,unFollow:this.props.unFollow,follow:this.props.follow})})}}]),n}(a.a.Component),_t=Object(h.d)(x,Object(d.b)((function(e){return{users:ut(e),pageSize:lt(e),totalUsersCount:dt(e),currentPage:jt(e),isFetching:ht(e),followingInProgress:bt(e),isAuth:e.auth.isAuth}}),{follow:function(e){return function(){var t=Object(Q.a)(V.a.mark((function t(n){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ct(n,e,Z.follow.bind(Z),nt);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(Q.a)(V.a.mark((function t(n){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ct(n,e,Z.unFollow.bind(Z),rt);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:at,followingInProgressAC:ot,getUsersThunkCreator:function(e,t){return function(){var n=Object(Q.a)(V.a.mark((function n(r){var a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(st(!0)),r(at(e)),n.next=4,Z.getUsers(e,t);case 4:a=n.sent,r(st(!1)),r({type:"SET_USERS",users:a.items}),console.log(a.items),r({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:a.totalCount});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(St),Nt="INITIALIZED_SUCCESS",It={initialized:!1},Et=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).catchAllUnHandledErrors=function(){alert("some error")},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnHandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnHandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(de,{}),Object(f.jsx)(we,{}),Object(f.jsx)("div",{className:"app-wrapper-content",children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(j.a,{to:"/profile"})}}),Object(f.jsx)(j.b,{path:"/dialogs",render:function(){return Object(f.jsx)(z,{})}}),Object(f.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(Xe,{})}}),Object(f.jsx)(j.b,{path:"/users",component:_t}),Object(f.jsx)(j.b,{path:"/login",component:fe}),Object(f.jsx)(j.b,{path:"*",render:function(){return Object(f.jsx)("h1",{children:"404 NOT FOUND"})}})]})})]}):Object(f.jsx)(p,{})}}]),n}(a.a.Component),At=Object(h.d)(j.g,Object(d.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(se());Promise.all([t]).then((function(){e({type:Nt})}))}}}))(Et),yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))},Ut=n(127),Tt=n(134),Ft=Object(h.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(g.a)(Object(g.a)({},e),{},{posts:[].concat(Object(v.a)(e.posts),[{id:5,message:t.newPostText,likesCount:0}])});case"SET_USER_PROFILE":return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case Ce:return Object(g.a)(Object(g.a)({},e),{},{status:t.status});case ke:return Object(g.a)(Object(g.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case Se:return Object(g.a)(Object(g.a)({},e),{},{profile:Object(g.a)(Object(g.a)({},e.profile),{},{photos:t.photos})});default:return e}},messagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":return Object(g.a)(Object(g.a)({},e),{},{newPostText:"",messages:[].concat(Object(v.a)(e.messages),[{id:6,message:t.text}])});default:return e}},userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:$e(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return console.log($e(e.users,t.userId,"id",{followed:!0})),Object(g.a)(Object(g.a)({},e),{},{users:$e(e.users,t.userId,"id",{followed:!0})});case"SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case et:return console.log(e.followingInProgress),Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(v.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:case ee:return console.log(t.payload),Object(g.a)(Object(g.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},form:Ut.a}),Rt=Object(h.e)(Ft,Object(h.a)(Tt.a));window.store=Rt;var Lt=Rt;o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(w.a,{children:Object(f.jsx)(d.a,{store:Lt,children:Object(f.jsx)(At,{})})})}),document.getElementById("root")),yt()},34:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1-OWX",error:"FormsControls_error__9hqAk",formSubmissoinError:"FormsControls_formSubmissoinError__Zw5gy",inputElem:"FormsControls_inputElem__2eenS"}},36:function(e,t,n){e.exports={header:"Header_header__2aBSP",logoImg:"Header_logoImg__1wtpB",loginBlock:"Header_loginBlock__1pf-7",loginBlockContainer:"Header_loginBlockContainer__X2UsU",loginName:"Header_loginName__3mmga",line:"Header_line__1oGww"}},47:function(e,t,n){e.exports={loginPage:"Login_loginPage__JqKZd"}},48:function(e,t,n){e.exports={nav:"Navbar_nav__2zCt2",itemContainer:"Navbar_itemContainer__3rGWk",link:"Navbar_link__256bs",activeLink:"Navbar_activeLink__3myhE",img:"Navbar_img__kubgk"}},71:function(e,t,n){e.exports={usersPageContainer:"Users_usersPageContainer__1wBua",userContainer:"Users_userContainer__3uXOx",user:"Users_user__1ZMTn"}},94:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2Mc5B",posts:"MyPosts_posts__LdFJw"}}},[[288,1,2]]]);
//# sourceMappingURL=main.4b9ad3fd.chunk.js.map