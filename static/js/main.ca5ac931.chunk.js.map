{"version":3,"sources":["components/Profile/MyPosts/Post/Post.module.css","components/Profile/Profile.module.css","components/Users/Users.module.css","components/Dialogs/Dialogs.module.css","assets/preloader.svg","components/Common/Preloader/Preloader.tsx","redux/dialogsReducer.ts","components/Dialogs/Message/Message.tsx","components/Dialogs/DialogItem/DialogItem.tsx","utils/validators/validators.ts","components/Common/FormsControls/FormsControls.tsx","components/Dialogs/Forms/AddMessageForm.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/Header/Header.tsx","api/api.ts","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Forms/LoginReduxForm.tsx","components/Login/Login.tsx","components/Navbar/Navbar.tsx","redux/profileReducer.ts","components/Profile/MyPosts/AddNewPostForm.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","assets/user.png","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","redux/users-selectors.ts","utils/object-helpers.ts","redux/usersReducer.ts","components/Common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","redux/app-reducer.ts","App.tsx","reportWebVitals.js","redux/redux-store.ts","index.js","components/Common/FormsControls/FormsControls.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Common/Paginator/Paginator.module.css","components/Navbar/Navbar.module.css","components/Header/Header.module.css","components/Profile/MyPosts/MyPosts.module.css"],"names":["module","exports","Preloader","src","preloader","initialState","dialogs","id","name","messages","message","newPostText","Messages","props","className","s","DialogItem","dialog","active","to","required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","children","hasError","styles","formControl","TextArea","restProps","child","Input","createField","placeholder","validators","component","text","Field","validate","maxLen","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Dialogs","messagesPage","dialogsElements","map","d","messagesElements","m","Message","dialogsItems","addMessage","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","React","connect","compose","dispatch","type","addMessageActionCreator","Header","header","loginBlock","login","onClick","logoutTC","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unFollow","delete","profileAPI","console","warn","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","email","password","rememberMe","captcha","securityAPI","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserDataThunkCreator","a","resultCode","getCaptchaUrl","url","HeaderContainer","HeaderContainerWrap","LoginReduxForm","formSubmissoinError","loginTC","stopSubmit","_error","links","Navbar","nav","el","item","activeClassName","activeLink","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","setStatusAC","getUserProfileThunkCreator","AddNewPostFormRedux","Post","like","MyPosts","memo","log","postsElements","p","postsBlock","addPost","MyPostsContainer","profilePage","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","reduxStatus","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatusThunkCreator","ProfileDataFormReduxForm","style","Object","keys","contacts","key","contact","ProfileData","isOwner","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","saveProflie","descriptionBlock","photos","large","userPhoto","mainPhoto","target","files","initialValue","Profile","content","ProfileContainer","match","params","authorizedUserId","history","push","getStatusThunkCreator","refreshProfile","prevProps","prevState","snapshot","file","getState","Promise","reject","withRouter","createSelector","userPage","users","filter","u","getPageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOWING_IN_PROGRESS","followSuccess","unFollowSuccess","setCurrentPage","toggleIsFetching","followingInProgressAC","followUnFollowFlow","apiMethod","actionCreator","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","selectedPage","page","User","user","small","followed","disabled","some","Users","UsersContainer","pageNumber","getUsersThunkCreator","bind","totalCount","INITIALIZED_SUCCESS","initialized","App","catchAllUnHandledErrors","alert","initializeApp","window","addEventListener","removeEventListener","exact","path","render","DialogsContainer","Login","app","promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","action","postId","formReducer","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ca5ac931.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1kNVy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__1_t6i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2_Q0H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2l3oF\",\"dialogsItems\":\"Dialogs_dialogsItems__1eb_z\",\"dialog\":\"Dialogs_dialog__3hTO0\",\"active\":\"Dialogs_active__3BvGC\",\"messages\":\"Dialogs_messages__3tG52\",\"message\":\"Dialogs_message__1lzfF\"};","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import React from \"react\";\nimport preloader from \"./../../../assets/preloader.svg\";\n\nlet Preloader: React.FC = () => {\n    return(\n        <img src={preloader} /> \n    )\n}\n\nexport default Preloader;","export type AddMessageActionType = {\n  type: \"ADD-MESSAGE\";\n  text: string;\n};\n\nexport type DialogsType = {\n  id: number;\n  name: string;\n};\nexport type MessagesType = {\n  id: number;\n  message: string;\n};\n\ntype ActionsType = AddMessageActionType;\n\nexport type MessagesPageType = {\n  dialogs: Array<DialogsType>;\n  messages: Array<MessagesType>;\n  newPostText: string;\n};\n\nlet initialState: MessagesPageType = {\n  dialogs: [\n    { id: 1, name: \"Dimych\" },\n    { id: 2, name: \"Sveta\" },\n    { id: 3, name: \"Sasha\" },\n    { id: 4, name: \"Andrey\" },\n    { id: 5, name: \"Viktor\" },\n    { id: 6, name: \"Valera\" },\n  ],\n  messages: [\n    { id: 1, message: \"Hi\" },\n    { id: 2, message: \"how is your it-kamasutra\" },\n    { id: 3, message: \"yo\" },\n    { id: 4, message: \"yo\" },\n    { id: 5, message: \"yo\" },\n  ],\n  newPostText: \"\",\n};\n\nexport const dialogReducer = (state = initialState, action: ActionsType): MessagesPageType => {\n  switch (action.type) {\n    case \"ADD-MESSAGE\":\n      return {\n        ...state,\n        newPostText: \"\",\n        messages: [\n          ...state.messages,\n          {\n            id: 6,\n            message: action.text,\n          },\n        ],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addMessageActionCreator = (text: string): AddMessageActionType => {\n  return {\n    type: \"ADD-MESSAGE\",\n    text,\n  };\n};\n","import React from \"react\";\nimport s from \"./../Dialogs.module.css\";\n\ntype MessagesType = {\n    message: string\n}\n\nconst Messages: React.FC<MessagesType> = (props) => {\n    return <div className={s.message}>{props.message}</div>;\n  };\n\nexport default Messages;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./../Dialogs.module.css\";\n\ntype DialogItemType = {\n    id: number\n    name: string\n}\n\nconst DialogItem: React.FC<DialogItemType> = (props) => {\n  return (\n    <div className={s.dialog + \" \" + s.active}>\n      <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\n    </div>\n  );\n};\n\nexport default DialogItem;\n","export const required = (value: string) => {\r\n  if (value) return undefined;\r\n\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength:number) => (value: string) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport styles from \"./FormsControls.module.css\";\r\n\r\nexport const FormControl: React.FC<any> = ({\r\n  input,\r\n  meta: { touched, error },\r\n  children,\r\n  ...props\r\n}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>{children}</div>\r\n      <div>{hasError && <span>{error}</span>}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const TextArea: React.FC<any> = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\nexport const Input: React.FC<any> = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder: string | null,\r\n  name: string,\r\n  validators: any,\r\n  component: any,\r\n  props: any = {},\r\n  text: string = \"\"\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        validate={validators}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n","import { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, required } from \"../../../utils/validators/validators\";\r\nimport { TextArea } from \"../../Common/FormsControls/FormsControls\";\r\n\r\nconst maxLen = maxLengthCreator(30)\r\n\r\nconst AddMessageForm = (props: any) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n      validate={[required,maxLen]}\r\n        placeholder=\"Enter your message\"\r\n        name={\"addMessage\"}\r\n        component={TextArea}\r\n      />\r\n      <button>Add message</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport const AddMessageFormRedux = reduxForm({ form: \"addMessage\" })(\r\n  AddMessageForm\r\n);\r\n","import React from \"react\";\nimport Messages from \"./Message/Message\";\nimport DialogItem from \"./DialogItem/DialogItem\";\nimport s from \"./Dialogs.module.css\";\nimport {\n  DialogsType,\n  MessagesPageType,\n  MessagesType,\n} from \"../../redux/dialogsReducer\";\nimport { Redirect } from \"react-router\";\nimport { Field, Form, reduxForm } from \"redux-form\";\nimport { AddMessageFormRedux } from \"./Forms/AddMessageForm\";\n\nexport type DialogsPageType = {\n  newPostText: string;\n  messagesPage: MessagesPageType;\n  addMessage: (a: string) => void;\n  isAuth: boolean;\n};\n\nconst Dialogs: React.FC<DialogsPageType> = (props) => {\n  let messagesPage = props.messagesPage;\n\n  let onAddMessageHandler = (value:any) => {//any\n    props.addMessage(value.addMessage);\n\n  };\n\n  let dialogsElements = messagesPage.dialogs.map((d: DialogsType) => (\n    <DialogItem name={d.name} id={d.id} />\n  ));\n  let messagesElements = messagesPage.messages.map((m: MessagesType) => (\n    <Messages message={m.message} />\n  ));\n\n  return (\n    <div className={s.dialogs}>\n      <div className={s.dialogsItems}>{dialogsElements}</div>\n      <div className={s.messages}>\n        {messagesElements}\n        <AddMessageFormRedux onSubmit={onAddMessageHandler} />\n      </div>\n    </div>\n  );\n};\n\n\nexport default Dialogs;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { RootStoreType } from \"../redux/redux-store\";\r\n\r\nlet mapStateToPropsForRedirect = (state: RootStoreType) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component: any) => {\r\n  class RedirectComponent extends React.Component<any, {}> {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","import { addMessageActionCreator } from \"../../redux/dialogsReducer\";\nimport Dialogs, { DialogsPageType } from \"./Dialogs\";\nimport { connect } from \"react-redux\";\nimport { RootStoreType } from \"../../redux/redux-store\";\nimport { compose, Dispatch } from \"redux\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\n\nlet mapStateToProps = (state: RootStoreType) => {\n  return {\n    newPostText: state.messagesPage.newPostText,\n    messagesPage: state.messagesPage,\n  };\n};\n\nlet mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    addMessage: (text: string) => {\n      dispatch(addMessageActionCreator(text));\n    },\n  };\n};\n\nexport default compose(\n  withAuthRedirect,\n  connect(mapStateToProps, mapDispatchToProps)\n)(Dialogs);\n\n// let AuthRedirectComponent = withAuthRedirect(Dialogs);\n\n// const DialogsContainer = connect(\n//   mapStateToProps,\n//   mapDispatchToProps\n// )(AuthRedirectComponent);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Header.module.css\";\n\ntype HeaderPropsType = {\n  isAuth: boolean;\n  login: string | null;\n  logoutTC: () => void\n};\n\nconst Header: React.FC<HeaderPropsType> = (props) => {\n  return (\n    <header className={s.header}>\n      <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAw1BMVEX////EEhIAAADBAADDAADDEhOoqKj+//38//+/AADFERH+/v/m5ub7+/ugoKDy8vKvr69CQkI6Ojq6urrd3d1MTEwJCQnLy8vW1taampp8fHzw2NjECwvGxsaIiIjr6+vrzMzahofYe3y/v7/rw8Hjrq3goaDVbG7otrbelJXz5eP37+4oKChlZWWOjo6AgIDNRETPUU/MOTrGHR5ZWVkaGhp0dHTXgYDJKy7SXF7RYmLMPz7NSkvgop3ho6bUcXHGISSUggCGAAAKoElEQVR4nO2bDVvaWhLHD5y8mRCDEiXQYEAXqrcq2op90Vv3+3+qnTlzTnIS3G3v3a0cuvPr81Qdgs2fmTNvUCEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmF+jhD+bNteMUbJW9zOryCNupZQpNuXRa/Y9oFQzOV5y2NhGIrlwWrrysXBP97wvv6HzL0YJbZYHvTkqhWnoVjIWO6lRBDY63UkLmUPbH+2bAvZi/dSohJoSQwTCFFJNvCiPqHoQTTtoUQQGPstiRiiSqCSqIkWJHr/JM69sufHJd67d65rBHmwVHJWOgWRB0stcbuOOAsKBG1fPLhz5cVIkEDf++hpiVAto4WHfpZg8/fLixiicOPP0XdpvCiWnvr2vTiXdaCSB+WVuPf2K1BVkom9ZyjkK9Tgg0QKURAoxLmnJZLAgysRhffozL2RqDxIAkHiAQaqd0+q3mO4ai9691AmlMBERNG93B8vogd9I5C8CGeRBEbUq55LP6b8ggIVUR2ojqcbbNWUg+7qXlMFKsYqClREEKimRoAHqe1GiZBuDpyXOJdYB+WdNS0sSaJ8MU1qJKLPZPNWcAbpKgjUvTiL6EEfPGiGCrz9S3MGa0JxpRUurclJBarvuMS5h8mjEYj+WuozKBq3RguVZPAYQl1sovKeqozDEqlVs86g6mR8nUUbJQsr07SGKdczKjXbjUBsr2Fc0mfQGHWhh2yrLpe2xMjt0k+djGclmVA323UWRXSIQplQddGXK8u7+ix6DkoMqdm2BOJtq04mpjpoQIE+lgkq/TF5MdTPwYwau+lFE6KNFPCg1/VgGFGIYiejSr96Bb7bNZAC1T0vUpKRd3a51s32i72PWhxgiIIHoySBc3ou60lDY+qiaxK3kkw9D1p1EBTRGfSuhGlv6ja8gdJN6Vag6iTz3JSJqEkydeYJjcCVEPUWox6m2ukmdsuLNNGDQCse63HJiltd6L3PxoCPnZuRuO6DovArBqpDXtRLJ++DMWAdVLbYrzWHZumkdjd20/OlvdhAMnq2KxLN0qn82ASp7rZ73tdai146eV2J76UeM1a1LX1WV7nhxVDPg+p8fUm1Ta8NUQtJDFUWRYHfsAb6Zhse1QKpR1XPT+8gSLGMuNGGv1NnS1LlA4lU6JUY1YaTRFw66YFXj8R6yfieRib1iqg2PBHJEy2w1Pnc/cJ/jh1KTz6r7VqMEhMj8OWS0uRXvI6abTXRr5r1FHhQdTBLmhflnzg7PlHqmX9V7cCuJc7pbEGr9k4vECPVbMeqDl6qcRjPYr1VQ4d+p370XEQUonKpuxv0ohbozVUD58c7nvobgcJI/LisdzIiQolYMijJ4MpCPW1FZ/HzC61Ll9iP6rr4/U6VexCIPeqOh6lus00SS2uiT8SlOZG0kzGs8KT5aPZJYFhv4DDYSaDYtcRwq1UjiT176aRWGJRXm6WTIIm6SCzJEulABROGqDbW66mdoJvtulWLaolevXRK9JZG9aLCWmR812blQSQ0q+Ke8aCgNnyHXrxXp8n7wzKRxLi037YGifBClB/tCQPGiufS9qAi/RRrgYZQ/EFB//RrJPyAD5/U61vWEkOsjirdPGXWdZeUjr7ZEqMXqoMtgXWSsf+NElOVb7+Mb8iHf3rQdhxYEnXRiOXHlhe3Jb5I7cGmEKR3UgtsYhleRGwadiVQ3QDkgRIkNjeqi8ZTatkuqbsxEsPoRXY8GOpetOtBtHnxzgSSRD8um1sIo7ouNl406cZIJIG9dog+Kw/KOQaC9dvhsl0KhJvwVRg1Xgy1F2OUaHmRSv43tZJ68UySScxz8AzG/msCS7lTgXAbMXbeZbmVUdVZbEnUbTi0au0QDe0k0zqDyrZjgcqL2JjErYz6arqheZHGpW6S0c22/XtdEYhe9F73Ym8rULENxxuP2x5M7kyz3RiVQF+6IBAk4twel9t1sXUWE92GlzjcHjRJJomSJ9kRWJ9BNwTC6+1LbN863U2MTfmXVkalDwf5KNDajz5R8Z/XCzgKfUg8zeZn13zo4SCLr7i5cWy3aOqPWoFKLapdB2ke7LVD1Fd1sHTCgwSeGqiLthevqI2WlhepTLS7m+hJNo25+W0+vnex4zrY5cMnqTOf8hi+yRvTfsnTuxv4670ZmZr1FCUZZVvQPKKTjGsCdXLXXoQbJYE0P+p0o1cW6B4jsS4TuKoDiaoYqsS1y170dUJsw3u+rwNVCzxXn2zTdZGabe+zZ7qbptDrDcYCL4O05aJARLfhKPHK3HFTFyM6g1AHL1WWRYlNs10/wSQZFwVakwbdr7cAz74jjz1lLxSdS1pPKS9mz2Zcos9mxL5c4O+I3fQgos+iTwtdFXMkMfZ840FsrPW8GNedTEhuj8F3uBgve44KJC/GtHgCD+JJM3vUuLWy0KXf6mQSHahqjeFSHexCiV6HKOX+ej0VW0sns54yHkT0h4jcFmgyYU/W7xDWXmwPvJdqT9dutq9oFe62QJ0L4QzW7/wmEbXhLYG0DW832+RFR5rt/wQUbJ1kDOhF2RYo8Cy2dzL42Ywr6bkvEM/iomNBiV2BGKjzzmUg0fUQJexpQhG+YsMPBrv+SdK/QPj6/00LRdu+t/+DjWEYhmEYhmEY5q8xW6/HHdPF+uT6dHN8M8kbW3px9nB9CtaTx7OZthWTGzBdP5xdvNXN/i0m/X7QMoz6DScV2dKpZew/Klt1ZJlc1njYUTiE+z3MU1Awe4Bv1Qel0k2/f3o7zgeDvBhNHm/RlqHUMTycFbfw7WgX9/5zdBSmRhUC/p3iV/DgTfd5YBua73N4krvDfkfhuN+/rX9INv0Nfn1NwGn/uvlh3e93D7M7dBQOWwEHRy1VAXm89Tw4pM0Pgcthygr/vxSmAwK//z0V5rr64Tvgv6fCwfXx8fHmd1aomLJC12CFv53CUevHY6UGetVNY6sVHjW2icvTRUdhbvur0I46tl2kFYJ7m/Hxut8f/PI7/buAwkk1aEo5jEwnhXokxUFKTbvQjvenZBTVDSnEMXJI/Xhx9Mrs4Q6H9mwLc1N6gt8cn5xs8KsekC7Uo5ujo01d8emJm5OTY/z6sEsJP+Cwf1pDk+HFjdZ7dFhPiunwwbwKx2sd1YOza7Js1sVu7v2/IMvzfOtgKWPWMqWDLRPD7Ijbnza6SDHOsnEhssE4K3JR5eM0GY8zMRjnaSWqVCTFWKwFXiKKohL6MXjiNFcmeGaejvMf/js742I4SB+r0WgUFDeDdXY7K9YiH0zFzWAKf69TMSkGoPCxGs6CcTGFxx7FQ7WGPPSYT4qgGAezSbWuAnc3UQE44kYMgosCdASD21Q8ZofDKcTgYXaYT6DcTyYpKBT5cJKlZ+nh8BEvBJ+txWw8CYLhbCxuhhN3FQ5nqLAIRoWYosIqmcItP4ozAa3ODQhJxWi8hkvGo0mVnRUjeGyqFE7FxWwCvrwAhSJ1d1+aBkFVBMMsr8RMFOlkGFTpcDQTY1FkAvf38CA+EgzTajg6E/jYDB+DvweDbBhgszcIgr2pimf2/87DILWoZsP2Wxx7Sfpvf8AOpnrLW2EYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhmGYveJfrS3TDfu2COYAAAAASUVORK5CYII=\"></img>\n      <div className={s.loginBlock}>\n        {props.isAuth \n        ? <div>{props.login} - <button onClick={props.logoutTC}>Log out</button></div> \n        : <NavLink to={\"/login\"}>Login</NavLink>}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"5b802dfc-8175-4671-99bf-e30ddb894d16\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data);\r\n  },\r\n  follow(userId: number) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unFollow(userId: number) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n  profileAPI(userId: string) {\r\n    console.warn(\"Obsolete method. Use profileAPI\");\r\n    return profileAPI.getProfile(userId);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId: string) {\r\n    return instance.get(`profile/${userId}`).then((response) => response);\r\n  },\r\n  getStatus(userId: string) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status: string) {\r\n    return instance.put(`profile/status`, { status });\r\n  },\r\n  savePhoto(photoFile: File) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n\r\n    return instance.put(\"/profile/photo\", formData, {\r\n      headers: {\r\n        \"Content-type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n  saveProfile(profile: any) {\r\n    return instance.put(`profile`, profile);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  authMeAPI() {\r\n    return instance.get(`auth/me`).then((response) => response.data);\r\n  },\r\n  login(\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: null | string = null\r\n  ) {\r\n    return instance.post(`auth/login`, {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha,\r\n    });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n};\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  },\r\n};\r\n","import { Dispatch } from \"redux\";\nimport { stopSubmit } from \"redux-form\";\nimport { authAPI, securityAPI } from \"../api/api\";\n\nlet SET_USER_DATA = \"social-network/auth/SET_USER_DATA\";\nlet GET_CAPTCHA_URL_SUCCESS = \"social-network/auth/GET_CAPTCHA_URL_SUCCESS\";\n\nexport type AuthStateType = {\n  userId: string | null;\n  email: string | null;\n  login: string | null;\n  isAuth: boolean;\n  captchaUrl: null | string;\n};\n\nlet initialState: AuthStateType = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null,\n};\n\nexport const authReducer = (\n  state = initialState,\n  action: ActionsType\n): AuthStateType => {\n  switch (action.type) {\n    case GET_CAPTCHA_URL_SUCCESS:\n    case SET_USER_DATA: {\n      return { ...state, ...action.payload };\n    }\n    default:\n      return state;\n  }\n};\n\ntype ActionsType = SetAuthUserDataType;\n\ntype SetAuthUserDataType = ReturnType<typeof setAuthUserData>;\n\nexport const setAuthUserData = (\n  userId: string | null,\n  email: string | null,\n  login: string | null,\n  isAuth: boolean\n) => {\n  return {\n    type: SET_USER_DATA,\n    payload: { userId, email, login, isAuth },\n  };\n};\nexport const getCaptchaUrlSuccess = (captchaUrl: string) => {\n  return {\n    type: GET_CAPTCHA_URL_SUCCESS,\n    payload: { captchaUrl },\n  };\n};\n\n//Thunks\n\nexport const getAuthUserDataThunkCreator = () => {\n  return async (dispatch: Dispatch) => {\n    //any\n    let response = await authAPI.authMeAPI();\n    if (response.resultCode === 0) {\n      let { id, email, login } = response.data;\n      dispatch(setAuthUserData(id, email, login, true));\n    }\n  };\n};\n\nexport const loginTC = (\n  email: string,\n  password: string,\n  rememberMe: boolean,\n  captcha: string\n) => {\n  return async (dispatch: any) => {\n    //any\n    let response: any = await authAPI.login(\n      email,\n      password,\n      rememberMe,\n      captcha\n    );\n    if (response.data.resultCode === 0) {\n      dispatch(getAuthUserDataThunkCreator());\n    } else {\n      if (response.data.resultCode === 10) {\n        dispatch(getCaptchaUrl());\n      }\n      let message =\n        response.data.messages.length > 0\n          ? response.data.messages[0]\n          : \"some error\";\n      dispatch(stopSubmit(\"login\", { _error: message }));\n    }\n  };\n};\n\nexport const logoutTC = () => {\n  return async (dispatch: Dispatch) => {\n    //any\n    let response = await authAPI.logout();\n    if (response.data.resultCode === 0) {\n      dispatch(setAuthUserData(null, null, null, false));\n    }\n  };\n};\nexport const getCaptchaUrl = () => {\n  return async (dispatch: Dispatch) => {\n    //any\n    let response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\n  };\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Header from \"./Header\";\nimport { setAuthUserData, logoutTC } from \"../../redux/auth-reducer\";\nimport { RootStoreType } from \"../../redux/redux-store\";\n\ntype HeaderContainerType = {\n  isAuth: boolean;\n  login: string | null;\n  setAuthUserData: (id: string, email: string, login: string) => void;\n  getAuthUserDataThunkCreator: () => void;\n  logoutTC: () => void;\n};\n\nclass HeaderContainer extends React.Component<HeaderContainerType, any> {\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nlet mapStateToProps = (state: RootStoreType): any => {\n  return {\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n  };\n};\n\nexport const HeaderContainerWrap: any = connect(mapStateToProps, {\n  setAuthUserData,\n  logoutTC,\n})(HeaderContainer);\n","import { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  maxLengthCreator,\r\n  required,\r\n} from \"../../../utils/validators/validators\";\r\nimport { createField, Input } from \"../../Common/FormsControls/FormsControls\";\r\nimport styles from \"../../Common/FormsControls/FormsControls.module.css\";\r\n\r\n// type LoginFormPropsType = {\r\n//   handleSubmit: () => void;\r\n//   error: boolean;\r\n// };\r\n\r\nconst maxLen = maxLengthCreator(100);\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }: any) => {\r\n  //any\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        {createField(\"Email\", \"email\", [required], Input)}\r\n        {createField(\"Password\", \"password\", [required], Input, {\r\n          type: \"password\",\r\n        })}\r\n        {createField(\r\n          null,\r\n          \"rememberMe\",\r\n          [],\r\n          Input,\r\n          { type: \"checkbox\" },\r\n          \"remember me\"\r\n        )}\r\n        {captchaUrl && <img src={captchaUrl} />}\r\n        {captchaUrl &&\r\n          createField(\"Symbols from image\", \"captcha\", [required], Input)}\r\n        {error && <div className={styles.formSubmissoinError}>{error}</div>}\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport const LoginReduxForm: any = reduxForm({ form: \"login\" })(LoginForm);\r\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { LoginReduxForm } from \"./Forms/LoginReduxForm\";\nimport { loginTC } from \"../../redux/auth-reducer\";\nimport { RootStoreType } from \"../../redux/redux-store\";\nimport { Redirect } from \"react-router\";\n\n// type LoginPropsType = {\n//   loginTC: (email: string, password: string, rememberMe: string) => void;\n// };\n\nconst Login = ({ isAuth, loginTC, captchaUrl }: any) => {\n  // any\n  const onSubmit = (formData: any) => {\n    //any\n    loginTC(\n      formData.email,\n      formData.password,\n      formData.rememberMe,\n      formData.captcha\n    );\n  };\n\n  if (isAuth) {\n    <Redirect to={\"/profile\"} />;\n  }\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} />\n    </div>\n  );\n};\n\nlet mapStateToProps = (state: RootStoreType) => {\n  return {\n    captchaUrl: state.auth.captchaUrl,\n    isAuth: state.auth.isAuth,\n  };\n};\n\nexport default connect(mapStateToProps, { loginTC })(Login);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Navbar.module.css\";\n\nconst links = [\n  { url: \"/profile\", name: \"Profile\" },\n  { url: \"/dialogs\", name: \"Messages\" },\n  { url: \"/Users\", name: \"Users\" },\n  { url: \"/login\", name: \"Login\" },\n];\n\nconst Navbar = () => {\n  return (\n    <nav className={s.nav}>\n      {links.map((el) => (\n        <div className={s.item} key={el.url}>\n          <NavLink to={el.url} activeClassName={s.activeLink}>\n            {el.name}\n          </NavLink>\n        </div>\n      ))}\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import { RootStoreType } from \"./redux-store\";\nimport { profileAPI } from \"./../api/api\";\nimport { usersAPI } from \"../api/api\";\nimport { Dispatch } from \"redux\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_STATUS = \"SET_STATUS\";\nconst DELETE_POST = \"DELETE_POST\";\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\n\nexport type AddPostActionType = {\n  type: \"ADD-POST\";\n  newPostText: string;\n};\nexport type UpdateNewPostTextActionType = {\n  type: \"UPDATE-NEW-POST-TEXT\";\n  text: string;\n};\nexport type SetUserProfileActionType = {\n  type: \"SET_USER_PROFILE\";\n  profile: ProfileType;\n};\nexport type SetStatusActionType = {\n  type: \"SET_STATUS\";\n  status: string;\n};\nexport type DeletePostType = {\n  type: \"DELETE_POST\";\n  postId: number;\n};\n\nexport type SavePhotoSuccessType = {\n  type: \"SAVE_PHOTO_SUCCESS\";\n  photos: any;\n};\n// export type SavePhotoSuccessType = any;\n\nexport type PostsType = {\n  id: number;\n  message: string;\n  likesCount?: number;\n};\n\nexport type ProfilePageType = {\n  posts: Array<PostsType>;\n  profile: null | ProfileType;\n  status: string;\n};\n\nexport type ProfileType = {\n  userId: number;\n  lookingForAJob: boolean;\n  lookingForAJobDescription: string;\n  fullName: string;\n  contacts: ContactsType;\n  photos: PhotosType;\n  aboutMe: string;\n};\n\ntype PhotosType = {\n  small: string;\n  large: string;\n};\ntype ContactsType = {\n  github: string;\n  vk: string;\n  facebook: string;\n  instagram: string;\n  twitter: string;\n  website: string;\n  youtube: string;\n  mainLink: string;\n};\n\nlet initialState: ProfilePageType = {\n  posts: [\n    { id: 1, message: \"Hi, how are you\", likesCount: 12 },\n    { id: 2, message: \"it's first\", likesCount: 24 },\n    { id: 3, message: \"yo\" },\n    { id: 4, message: \"yo\" },\n    { id: 5, message: \"yo\" },\n  ],\n  profile: null,\n  status: \"\",\n};\n\nexport type ProfileActionsType =\n  | AddPostActionType\n  | UpdateNewPostTextActionType\n  | SetUserProfileActionType\n  | SetStatusActionType\n  | DeletePostType\n  | SavePhotoSuccessType;\n\nexport const profileReducer = (\n  state = initialState,\n  action: ProfileActionsType\n): ProfilePageType => {\n  switch (action.type) {\n    case \"ADD-POST\":\n      return {\n        ...state,\n        posts: [\n          ...state.posts,\n          {\n            id: 5,\n            message: action.newPostText,\n            likesCount: 0,\n          },\n        ],\n      };\n    case \"SET_USER_PROFILE\": {\n      return { ...state, profile: action.profile };\n    }\n    case SET_STATUS: {\n      return { ...state, status: action.status };\n    }\n    case DELETE_POST: {\n      return {\n        ...state,\n        posts: state.posts.filter((p) => p.id !== action.postId),\n      };\n    }\n    case SAVE_PHOTO_SUCCESS: {\n      return {\n        ...state,\n        //@ts-ignore\n        profile: { ...state.profile, photos: action.photos },\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (\n  newPostText: string\n): AddPostActionType => {\n  return {\n    type: \"ADD-POST\",\n    newPostText,\n  };\n};\n\nexport const setUserProfile = (\n  profile: ProfileType\n): SetUserProfileActionType => {\n  return {\n    type: \"SET_USER_PROFILE\",\n    profile,\n  };\n};\nexport const setStatusAC = (status: string): SetStatusActionType => {\n  return {\n    type: SET_STATUS,\n    status,\n  };\n};\nexport const deletePost = (postId: number): DeletePostType => {\n  return {\n    type: DELETE_POST,\n    postId,\n  };\n};\nexport const savePhotoSuccess = (photos: any): any => {\n  return {\n    type: SAVE_PHOTO_SUCCESS,\n    photos,\n  };\n};\n\n//THUNKS\nexport const getUserProfileThunkCreator = (userId: string): any => {\n  return async (dispatch: Dispatch) => {\n    let response = await usersAPI.profileAPI(userId);\n    // any\n    dispatch(setUserProfile(response.data));\n  };\n};\nexport const getStatusThunkCreator = (userId: string) => {\n  return async (dispatch: Dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    // any\n    dispatch(setStatusAC(response.data));\n  };\n};\nexport const updateStatusThunkCreator = (status: string) => {\n  return async (dispatch: Dispatch) => {\n    let response = await profileAPI.updateStatus(status);\n\n    if (response.data.resultCode === 0) {\n      // any\n      dispatch(setStatusAC(status));\n    }\n  };\n};\n\nexport const savePhoto = (file: File) => {\n  return async (dispatch: Dispatch) => {\n    let response = await profileAPI.savePhoto(file);\n\n    if (response.data.resultCode === 0) {\n      dispatch(savePhotoSuccess(response.data.data.photos));\n    }\n  };\n};\nexport const saveProfile = (profile: any) => {\n  return async (dispatch: Dispatch, getState: () => any) => {\n    const userId = getState().auth.userId;\n    let response = await profileAPI.saveProfile(profile);\n    if (response.data.resultCode === 0) {\n      dispatch(getUserProfileThunkCreator(userId));\n    } else {\n      dispatch(\n        stopSubmit(\"edit-profile\", { _error: response.data.messages[0] })\n      );\n      return Promise.reject(response.data.messages[0]);\n    }\n  };\n};\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  maxLengthCreator,\r\n  required,\r\n} from \"../../../utils/validators/validators\";\r\nimport { TextArea } from \"../../Common/FormsControls/FormsControls\";\r\n\r\nconst maxLen = maxLengthCreator(10);\r\n\r\nconst AddNewPostForm = (props: any) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={TextArea}\r\n        name={\"addPost\"}\r\n        placeholder={\"enter text\"}\r\n        validate={[required,maxLen]}\r\n      />\r\n      <div>\r\n        <button>Add posts</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport const AddNewPostFormRedux = reduxForm({ form: \"addPost\" })(\r\n  AddNewPostForm\r\n);\r\n","import React from \"react\";\nimport s from \"./Post.module.css\";\n\ntype PropsType = {\n  message: string\n  like: number | undefined\n}\n\nconst Post = (props: PropsType) => {\n  return (\n    <div className={s.item}>\n      <div>\n        <img src=\"https://i.ytimg.com/vi/o_26SGY83-I/movieposter_en.jpg\" />\n      </div>\n      {props.message}\n      <div>\n        <span>Like {props.like}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { PostsType, ProfilePageType } from \"../../../redux/profileReducer\";\nimport {\n  maxLengthCreator,\n  required,\n} from \"../../../utils/validators/validators\";\nimport { AddNewPostFormRedux } from \"./AddNewPostForm\";\nimport s from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post\";\n\ntype PropsType = {\n  posts: Array<PostsType>;\n  newPostText: string;\n  updateNewPostText: (text: string) => void;\n  addPost: (newPostText: string) => void;\n};\n\nconst MyPosts = React.memo((props: PropsType) => {\n  console.log((\"render\"));\n  \n  let postsElements = props.posts.map((p: PostsType) => (\n    <Post key={p.id} message={p.message} like={p.likesCount} />\n  ));\n\n  let onSubmitHandler = (value: any) => {\n    props.addPost(value.addPost);\n  };\n\n  return (\n    <div className={s.postsBlock}>\n      <h3>My posts</h3>\n      <AddNewPostFormRedux onSubmit={onSubmitHandler} />\n      <div className={s.posts}>{postsElements}</div>\n    </div>\n  );\n});\n\nexport default MyPosts;\n","import { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { addPostActionCreator } from \"../../../redux/profileReducer\";\nimport { RootStoreType } from \"../../../redux/redux-store\";\nimport MyPosts from \"./MyPosts\";\n\nlet mapStateToProps = (state: RootStoreType) => {\n  return {\n    posts: state.profilePage.posts,\n  };\n};\n\nlet mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    addPost: (newPostText: string) => {\n      dispatch(addPostActionCreator(newPostText));\n    },\n  };\n};\n\nconst MyPostsContainer:any = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import React, {\n  ChangeEvent,\n  ChangeEventHandler,\n  useEffect,\n  useState,\n} from \"react\";\n\nexport type ProfileStatusType = {\n  reduxStatus: any;\n  updateStatusThunkCreator: (status: string) => void;\n};\n\ntype StateType = {\n  editMode: boolean;\n  status: string;\n};\n\nconst ProfileStatusWithHooks = (props: ProfileStatusType) => {\n  let [editMode, setEditMode] = useState(true);\n  let [status, setStatus] = useState(props.reduxStatus);\n\n  useEffect(() => {\n    setStatus(props.reduxStatus);\n  }, [props.reduxStatus]);\n\n  const activateEditMode = () => {\n    setEditMode(false);\n  };\n  const deactivateEditMode = () => {\n    setEditMode(true);\n    props.updateStatusThunkCreator(status);\n  };\n  const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setStatus(e.currentTarget.value);\n  };\n  return (\n    <div>\n      {editMode ? (\n        <div>\n          <span onDoubleClick={activateEditMode}>\n            <b>Status:</b> {props.reduxStatus || \"----\"}\n          </span>\n        </div>\n      ) : (\n        <div>\n          <input\n            onChange={onStatusChange}\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            value={status}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","export default __webpack_public_path__ + \"static/media/user.96e310a6.png\";","import React from \"react\";\nimport { reduxForm } from \"redux-form\";\nimport {\n  createField,\n  Input,\n  TextArea,\n} from \"../../Common/FormsControls/FormsControls\";\nimport s from \"./ProfileInfo.module.css\";\nimport style from \"../../Common/FormsControls/FormsControls.module.css\";\n\nconst ProfileDataForm = ({ handleSubmit, profile, error }: any) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <button>save</button>\n      </div>\n      {error && <div className={style.formSubmissoinError}>{error}</div>}\n      <div>\n        <b>Full name</b>: {createField(\"Full name\", \"fullName\", [], Input)}\n      </div>\n      <div>\n        <b>Looking for a job</b>:\n        {createField(\"\", \"lookingForAJob\", [], Input, { type: \"checkbox\" })}\n      </div>\n\n      <div>\n        <b>My professional skills</b>:\n        {createField(\n          \"My professional skills\",\n          \"lookingForAJobDescription\",\n          [],\n          TextArea\n        )}\n      </div>\n\n      <div>\n        <b>About me</b>:{createField(\"About me\", \"aboutMe\", [], TextArea)}\n      </div>\n      <div>\n        <b>Contacts</b>:\n        {Object.keys(profile.contacts).map((key) => {\n          return (\n            <div key={key} className={s.contact}>\n              <b>\n                {key}: {createField(key, \"contacts.\" + key, [], Input)}\n              </b>\n            </div>\n          );\n        })}\n      </div>\n    </form>\n  );\n};\n\nconst ProfileDataFormReduxForm: any = reduxForm({ form: \"edit-profile\" })(\n  ProfileDataForm\n);\n\nexport default ProfileDataFormReduxForm;\n","import { ProfileType } from \"../../../redux/profileReducer\";\nimport Preloader from \"../../Common/Preloader/Preloader\";\nimport s from \"./ProfileInfo.module.css\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport userPhoto from \"../../../assets/user.png\";\nimport { ChangeEvent, useState } from \"react\";\nimport ProfileDataFormReduxForm from \"./ProfileDataForm\";\nimport { profileAPI } from \"../../../api/api\";\n\nexport type ProfileInfoType = {\n  profile: any; // ProfileType\n  reduxStatus: string;\n  isOwner: boolean;\n  updateStatusThunkCreator: (status: string) => void;\n  savePhoto: (file: File) => void;\n  saveProflie: any\n};\n\nconst ProfileInfo = ({\n  profile,\n  reduxStatus,\n  isOwner,\n  updateStatusThunkCreator,\n  savePhoto,\n  saveProflie,\n}: ProfileInfoType) => {\n  let [editMode, setEditMode] = useState<boolean>(false);\n\n  const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files?.length) {\n      savePhoto(e.target.files[0]);\n    }\n  };\n  const onSubmit = (formData: any) => {\n    saveProflie(formData).then(() => {\n      setEditMode(false);\n    });\n  };\n  return (\n    <div>\n      <div className={s.descriptionBlock}>\n        <img src={profile.photos.large || userPhoto} className={s.mainPhoto} />\n        {isOwner && <input type=\"file\" onChange={onMainPhotoSelected} />}\n        {editMode ? (\n          <ProfileDataFormReduxForm\n            initialValue={profile}\n            profile={profile}\n            onSubmit={onSubmit}\n          />\n        ) : (\n          <ProfileData\n            goToEditMode={() => setEditMode(true)}\n            isOwner={isOwner}\n            profile={profile}\n          />\n        )}\n        <ProfileStatusWithHooks\n          reduxStatus={reduxStatus}\n          updateStatusThunkCreator={updateStatusThunkCreator}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst ProfileData = ({ profile, isOwner, goToEditMode }: any) => {\n  return (\n    <div>\n      {isOwner && <button onClick={goToEditMode}>Edit</button>}\n      <div>\n        <b>Full name</b>: {profile.fullName}\n      </div>\n      <div>\n        <b>Looking for a job</b>: {profile.lookingForAJob ? \"yes\" : \"no\"}\n      </div>\n      {profile.lookingForAJob && (\n        <div>\n          <b>My professional skills</b>: {profile.lookingForAJobDescription}\n        </div>\n      )}\n      <div>\n        <b>About me</b>: {profile.aboutMe}\n      </div>\n      <div>\n        <b>Contacts</b>:{\" \"}\n        {Object.keys(profile.contacts).map((key) => {\n          return (\n            <Contact\n              key={key}\n              contactTitle={key}\n              contactValue={profile.contacts[key]}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst Contact = ({ contactTitle, contactValue }: any) => {\n  return (\n    <div className={s.contact}>\n      <b>{contactTitle}</b>: {contactValue}\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport { ProfilePageType, ProfileType } from \"../../redux/profileReducer\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport s from \"./Profile.module.css\";\nimport ProfileInfo, { ProfileInfoType } from \"./ProfileInfo/ProfileInfo\";\n\ntype ProfilePropsType = {\n  profile: ProfileType;\n  isAuth?: boolean;\n  reduxStatus: string;\n  isOwner: boolean;\n  updateStatusThunkCreator: (string: string) => void;\n  savePhoto: (file: File) => void;\n  saveProfile: (data: any) => void;\n};\n\nconst Profile = (props: ProfilePropsType) => {\n  return (\n    <div className={s.content}>\n      <ProfileInfo\n        saveProflie={props.saveProfile}\n        savePhoto={props.savePhoto}\n        isOwner={props.isOwner}\n        profile={props.profile}\n        reduxStatus={props.reduxStatus}\n        updateStatusThunkCreator={props.updateStatusThunkCreator}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect } from \"react\";\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\nimport {\n  updateStatusThunkCreator,\n  getStatusThunkCreator,\n  getUserProfileThunkCreator,\n  savePhoto,\n  saveProfile,\n  ProfileType,\n} from \"../../redux/profileReducer\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport { RootStoreType } from \"../../redux/redux-store\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\nimport Preloader from \"../Common/Preloader/Preloader\";\n\ntype PathParamsType = {\n  userId: string | undefined;\n};\n\ntype MapStatePropsType = {\n  profile?: ProfileType | null;\n  isAuth?: boolean;\n  reduxStatus: string;\n  authorizedUserId: string | null;\n};\ntype MapDispatchPropsType = {\n  setUserProfile: (profile: ProfileType) => void;\n  getUserProfileThunkCreator: (userId: string) => void;\n  getStatusThunkCreator: (userId: string) => void;\n  updateStatusThunkCreator: (status: string) => void;\n  savePhoto: (file: File) => void;\n  saveProfile: (data: any) => void;\n};\n\ntype OwnPropsType = MapStatePropsType & MapDispatchPropsType;\ntype PropsType = RouteComponentProps<PathParamsType> & OwnPropsType;\n\nclass ProfileContainer extends React.Component<PropsType, {}> {\n  refreshProfile() {\n    let userId: any = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    this.props.getUserProfileThunkCreator(userId);\n    this.props.getStatusThunkCreator(userId);\n  }\n\n  componentDidMount() {\n    this.refreshProfile();\n  }\n\n  componentDidUpdate(prevProps: PropsType, prevState: any, snapshot: any) {\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\n      this.refreshProfile();\n    }\n  }\n\n  render() {\n    if (!this.props.profile) {\n      return <Preloader />;\n    }\n\n    // console.log(\"RENDER PROFILE\");\n    return (\n      <Profile\n        {...this.props}\n        isOwner={!this.props.match.params.userId}\n        profile={this.props.profile}\n        reduxStatus={this.props.reduxStatus}\n        updateStatusThunkCreator={this.props.updateStatusThunkCreator}\n        savePhoto={this.props.savePhoto}\n        saveProfile={this.props.saveProfile}\n      />\n    );\n  }\n}\n\nlet mapStateToProps = (state: RootStoreType): MapStatePropsType => ({\n  profile: state.profilePage.profile,\n  reduxStatus: state.profilePage.status,\n  authorizedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth,\n});\n\nexport default compose(\n  withAuthRedirect,\n  connect(mapStateToProps, {\n    getUserProfileThunkCreator,\n    getStatusThunkCreator,\n    updateStatusThunkCreator,\n    savePhoto,\n    saveProfile,\n  }),\n  withRouter\n)(ProfileContainer);\n","import { createSelector } from \"reselect\";\r\nimport { RootStoreType } from \"./redux-store\";\r\n\r\nexport const getUsersSelector = (state: RootStoreType) => {\r\n  return state.userPage.users;\r\n};\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter((u) => true);\r\n});\r\nexport const getPageSize = (state: RootStoreType) => {\r\n  return state.userPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state: RootStoreType) => {\r\n  return state.userPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state: RootStoreType) => {\r\n  return state.userPage.currentPage;\r\n};\r\nexport const getIsFetching = (state: RootStoreType) => {\r\n  return state.userPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state: RootStoreType) => {\r\n  return state.userPage.followingInProgress;\r\n};\r\n","import { UsersType } from \"../redux/usersReducer\";\r\n\r\nexport const updateObjectInArray = (\r\n  items: any,\r\n  itemId: number,\r\n  objPropName: string,\r\n  newObjProps: any\r\n) => {\r\n  return items.map((u: any) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { Dispatch } from \"redux\";\nimport { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helpers\";\n\nexport type UsersType = {\n  id: number;\n  photoUrl: string;\n  followed: boolean;\n  name: string;\n  status: string;\n};\n\nconst FOLLOWING_IN_PROGRESS = \"FOLLOWING_IN_PROGRESS\";\n\nexport type FollowActionType = {\n  type: \"FOLLOW\";\n  userId: number;\n};\nexport type UnFollowActionType = {\n  type: \"UNFOLLOW\";\n  userId: number;\n};\nexport type SetUsersType = {\n  type: \"SET_USERS\";\n  users: Array<UsersType> | Array<any>;\n};\nexport type SetCurrentPageAction = {\n  type: \"SET_CURRENT_PAGE\";\n  currentPage: number;\n};\nexport type SetTotalUsersCountActionType = {\n  type: \"SET_TOTAL_USERS_COUNT\";\n  totalUsersCount: number;\n};\nexport type ToggleIsFetchingType = {\n  type: \"TOGGLE_IS_FETCHING\";\n  isFetching: boolean;\n};\nexport type FollowingInProgressType = {\n  type: \"FOLLOWING_IN_PROGRESS\";\n  isFetching: boolean;\n  userId: number;\n};\n\nexport type UserPageType = {\n  users: [] | Array<UsersType>;\n  pageSize: number;\n  totalUsersCount: number;\n  currentPage: number;\n  isFetching: boolean;\n  followingInProgress: any;\n};\n\ntype ActionsType =\n  | FollowActionType\n  | UnFollowActionType\n  | SetUsersType\n  | SetCurrentPageAction\n  | SetTotalUsersCountActionType\n  | ToggleIsFetchingType\n  | FollowingInProgressType;\n\nlet initialState: UserPageType = {\n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  followingInProgress: [],\n};\n\nexport const userReducer = (\n  state = initialState,\n  action: ActionsType\n): UserPageType => {\n  switch (action.type) {\n    case \"FOLLOW\": {\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: true,\n        }),\n      };\n    }\n    case \"UNFOLLOW\": {\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: true,\n        }),\n      };\n    }\n    case \"SET_USERS\": {\n      return { ...state, users: action.users };\n    }\n    case \"SET_CURRENT_PAGE\": {\n      return { ...state, currentPage: action.currentPage };\n    }\n    case \"SET_TOTAL_USERS_COUNT\": {\n      return { ...state, totalUsersCount: action.totalUsersCount };\n    }\n    case \"TOGGLE_IS_FETCHING\": {\n      return { ...state, isFetching: action.isFetching };\n    }\n    case FOLLOWING_IN_PROGRESS: {\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter(\n              (id: number) => id !== action.userId\n            ),\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userId: number): FollowActionType => {\n  return {\n    type: \"FOLLOW\",\n    userId,\n  };\n};\nexport const unFollowSuccess = (userId: number): UnFollowActionType => {\n  return {\n    type: \"UNFOLLOW\",\n    userId,\n  };\n};\nexport const setUsers = (users: any): SetUsersType => {\n  return {\n    type: \"SET_USERS\",\n    users,\n  };\n};\nexport const setCurrentPage = (currentPage: number): SetCurrentPageAction => {\n  return {\n    type: \"SET_CURRENT_PAGE\",\n    currentPage,\n  };\n};\nexport const setTotalUsersCount = (\n  totalUsersCount: number\n): SetTotalUsersCountActionType => {\n  return {\n    type: \"SET_TOTAL_USERS_COUNT\",\n    totalUsersCount,\n  };\n};\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => {\n  return {\n    type: \"TOGGLE_IS_FETCHING\",\n    isFetching,\n  };\n};\nexport const followingInProgressAC = (\n  isFetching: boolean,\n  userId: number\n): FollowingInProgressType => {\n  return {\n    type: FOLLOWING_IN_PROGRESS,\n    userId,\n    isFetching,\n  };\n};\n\n//THUNKS\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => {\n  return async (dispatch: any) => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(currentPage));\n    let data = await usersAPI.getUsers(currentPage, pageSize);\n\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n  };\n};\nconst followUnFollowFlow = async (\n  dispatch: Dispatch,\n  userId: number,\n  apiMethod: any,\n  actionCreator: any\n) => {\n  //any\n  dispatch(followingInProgressAC(true, userId));\n  let response: any = await apiMethod(userId);\n  if (response.data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(followingInProgressAC(false, userId));\n};\n\nexport const follow = (userId: number) => {\n  return async (dispatch: any) => {\n    followUnFollowFlow(\n      dispatch,\n      userId,\n      usersAPI.follow.bind(usersAPI),\n      followSuccess\n    );\n  };\n};\n\nexport const unFollow = (userId: number) => {\n  return async (dispatch: any) => {\n    followUnFollowFlow(\n      dispatch,\n      userId,\n      usersAPI.unFollow.bind(usersAPI),\n      unFollowSuccess\n    );\n  };\n};\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { UsersType } from \"../../../redux/usersReducer\";\nimport s from \"./Paginator.module.css\";\n\ntype UsersContainerPropsType = {\n  pageSize: number;\n  currentPage: number;\n  totalUsersCount: number;\n  onPageChanged: (pageNumber: number) => void;\n  isAuth: boolean;\n  portionSize?: number;\n};\n\nconst Paginator = ({\n  totalUsersCount,\n  pageSize,\n  currentPage,\n  isAuth,\n  onPageChanged,\n  portionSize = 10,\n}: UsersContainerPropsType) => {\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\n\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  if (isAuth === false) return <Redirect to={\"/login\"} />;\n\n  return (\n    <div className={s.paginator}> \n      {portionNumber > 1 && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }}\n        >\n          PREV\n        </button>\n      )}\n\n      {pages\n        .filter(\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\n        )\n        .map((p) => {\n          return (\n            <span\n            className={currentPage === p ? `${s.selectedPage} ${s.page}` : s.page} \n              key={p}\n              onClick={(e) => {\n                onPageChanged(p);\n              }}\n            >\n              {p}\n            </span>\n          );\n        })}\n      {portionCount > portionNumber && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }}\n        >\n          NEXT\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { UsersType } from \"../../redux/usersReducer\";\nimport s from \"./Users.module.css\";\nimport userPhoto from \"../../assets/user.png\"\n\ntype UsersContainerPropsType = {\n  user: any;\n  follow: (id: number) => void;\n  unFollow: (id: number) => void;\n  followingInProgress: any;\n};\n\nconst User = ({\n  user,\n  followingInProgress,\n  follow,\n  unFollow,\n}: UsersContainerPropsType) => {\n  \n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={`/profile/${user.id}`}>\n            <img src={user.photos.small !== null ?user.photos.small: userPhoto} className={s.userPhoto} />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              disabled={followingInProgress.some(\n                (id: number) => id !== user.id\n              )}\n              onClick={() => {\n                unFollow(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              disabled={followingInProgress.some(\n                (id: number) => id !== user.id\n              )}\n              onClick={() => {\n                follow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <span>\n        <div>{user.name}</div>\n        <div>{user.status}</div>\n      </span>\n      <span>\n        <div>{\"user.location.city\"}</div>\n        <div>{\"user.location.country\"}</div>\n      </span>\n    </div>\n  );\n};\n\nexport default User;\n","import React from \"react\";\nimport { UsersType } from \"../../redux/usersReducer\";\nimport Paginator from \"../Common/Paginator/Paginator\";\nimport User from \"./User\";\n\ntype UsersContainerPropsType = {\n  users: Array<UsersType>;\n  pageSize: number;\n  currentPage: number;\n  totalUsersCount: number;\n  followingInProgress: any;\n  isAuth: boolean;\n  follow: (id: number) => void;\n  unFollow: (id: number) => void;\n  onPageChanged: (pageNumber: number) => void;\n  followingInProgressAC: (isFetching: boolean, userId: number) => void;\n};\n\nconst Users = ({\n  totalUsersCount,\n  pageSize,\n  currentPage,\n  isAuth,\n  users,\n  onPageChanged,\n  ...props\n}: UsersContainerPropsType) => {\n  return (\n    <div>\n      <Paginator\n        pageSize={pageSize}\n        currentPage={currentPage}\n        totalUsersCount={totalUsersCount}\n        onPageChanged={onPageChanged}\n        isAuth={isAuth}\n      />\n      {users.map((u: UsersType) => {\n        return (\n          <User\n            key={u.id}\n            user={u}\n            followingInProgress={props.followingInProgress}\n            follow={props.follow}\n            unFollow={props.unFollow}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Users;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { RootStoreType } from \"../../redux/redux-store\";\nimport {\n  getCurrentPage,\n  getFollowingInProgress,\n  getIsFetching,\n  getPageSize,\n  getTotalUsersCount,\n  getUsers,\n} from \"../../redux/users-selectors\";\nimport {\n  follow,\n  followingInProgressAC,\n  getUsersThunkCreator,\n  setCurrentPage,\n  unFollow,\n  UsersType,\n} from \"../../redux/usersReducer\";\nimport Preloader from \"../Common/Preloader/Preloader\";\nimport Users from \"./Users\";\n\ntype UsersContainerType = {\n  users: Array<UsersType>;\n  pageSize: number;\n  currentPage: number;\n  totalUsersCount: number;\n  isFetching: boolean;\n  followingInProgress: any;\n  isAuth: boolean;\n  setCurrentPage: (pageNumber: number) => void;\n  follow: (id: number) => void;\n  unFollow: (id: number) => void;\n  followingInProgressAC: (isFetching: boolean, userId: number) => void;\n  getUsersThunkCreator: (currentPage: number, pageSize: number) => void;\n};\n\nclass UsersContainer extends React.Component<UsersContainerType, {}> {\n  componentDidMount() {\n    const { pageSize, currentPage } = this.props;\n\n    this.props.getUsersThunkCreator(currentPage, pageSize);\n  }\n\n  onPageChanged = (pageNumber: number) => {\n    const { pageSize } = this.props;\n    this.props.getUsersThunkCreator(pageNumber, pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n          isAuth={this.props.isAuth}\n          followingInProgress={this.props.followingInProgress}\n          followingInProgressAC={followingInProgressAC}\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          onPageChanged={this.onPageChanged}\n          currentPage={this.props.currentPage}\n          users={this.props.users}\n          unFollow={this.props.unFollow}\n          follow={this.props.follow}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state: RootStoreType) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n    isAuth: state.auth.isAuth,\n  };\n};\n\nexport default compose(\n  // withAuthRedirect,\n  connect(mapStateToProps, {\n    follow,\n    unFollow,\n    setCurrentPage,\n    followingInProgressAC,\n    getUsersThunkCreator,\n  })\n)(UsersContainer);\n","import { Dispatch } from \"redux\";\nimport { authAPI } from \"../api/api\";\nimport { getAuthUserDataThunkCreator } from \"./auth-reducer\";\n\nlet INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\nexport type AppInitializedState = {\n  initialized: boolean;\n};\n\nlet initialState: AppInitializedState = {\n  initialized: false,\n};\n\nexport const appReducer = (\n  state = initialState,\n  action: ActionsType\n): AppInitializedState => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS: {\n      return { ...state, initialized: true };\n    }\n    default:\n      return state;\n  }\n};\n\ntype ActionsType = SetAuthUserDataType;\n\ntype SetAuthUserDataType = ReturnType<typeof initializedSuccess>;\n\nexport const initializedSuccess = () => {\n  return {\n    type: INITIALIZED_SUCCESS,\n  };\n};\n\nexport const initializeApp = () => {\n  return (dispatch: Dispatch) => {\n    //@ts-ignore\n    let promise = dispatch(getAuthUserDataThunkCreator());\n    Promise.all([promise]).then(() => {\n      dispatch(initializedSuccess());\n    });\n  };\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport \"./App.css\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport { HeaderContainerWrap } from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport WithProfileContainer from \"./components/Profile/ProfileContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport { RootStoreType } from \"./redux/redux-store\";\n\nclass App extends React.Component<any, any> {\n  //any\n\n  catchAllUnHandledErrors = (params: any) => {\n    alert(\"some error\");\n  };\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnHandledErrors);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\n      \"unhandledrejection\",\n      this.catchAllUnHandledErrors\n    );\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainerWrap />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Switch>\n            <Route exact path=\"/\" render={() => <Redirect to={\"/profile\"} />} />\n            <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => <WithProfileContainer />}\n            />\n            <Route path=\"/users\" component={UsersContainer} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state: RootStoreType) => {\n  return { initialized: state.app.initialized };\n};\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { authReducer } from \"./auth-reducer\";\nimport { dialogReducer } from \"./dialogsReducer\";\nimport { profileReducer } from \"./profileReducer\";\nimport { userReducer } from \"./usersReducer\";\nimport { reducer as formReducer } from \"redux-form\";\nimport { appReducer } from \"./app-reducer\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  messagesPage: dialogReducer,\n  userPage: userReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer,\n});\n\nexport type RootStoreType = ReturnType<typeof reducers>;\n\nlet store = createStore(reducers, applyMiddleware(thunk));\n\n// @ts-ignore\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.tsx\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./redux/redux-store.ts\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1-OWX\",\"error\":\"FormsControls_error__9hqAk\",\"formSubmissoinError\":\"FormsControls_formSubmissoinError__Zw5gy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__12L-I\",\"mainPhoto\":\"ProfileInfo_mainPhoto__1r5dj\",\"contact\":\"ProfileInfo_contact__1Nr4E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1-OnL\",\"page\":\"Paginator_page__3znQI\",\"selectedPage\":\"Paginator_selectedPage__notKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2zCt2\",\"item\":\"Navbar_item__3iGJL\",\"activeLink\":\"Navbar_activeLink__3myhE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2aBSP\",\"loginBlock\":\"Header_loginBlock__1pf-7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2Mc5B\",\"posts\":\"MyPosts_posts__LdFJw\"};"],"sourceRoot":""}